try{window.RWire||function(b){if(!b.jQuery)throw"JQuery is dependency for Referralwire Module";b.RWire={options:null,authCallback:function(){},PROTECTED_RESOURCE_HEADER:"/api",AUTHZ_ENDPOINT:"/authz/authorize",TOKEN_ENDPOINT:"/authz/newtoken"};RWire.APIEndPoints={memberscsv:"/csv/members.csv",chapterscsv:"/csv/oraganizations.csv",bizcsv:"/csv/businesses.csv"};RWire.init=function(a){RWire.options=a};RWire.authenticate=function(){var a=new XMLHttpRequest;a.open("POST",RWire.options.url+RWire.TOKEN_ENDPOINT+
"?username="+$("#username").val()+"&password="+$("#password").val()+"&grant_type="+$("#grant_type").val()+"&client_id="+$("#client_id").val()+"&client_secret="+$("#client_secret").val()+"&response_type="+$("#response_type").val()+"&code="+$("#code").val(),!1);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send();400==a.status?alert(a.response):(RWire.saveToken(JSON.parse(a.responseText).access_token),b.parent.document.getElementById("_rw_login_iframe_").style.display="block",
b.parent.RWire.authCallback("OK"),b.parent.document.getElementById("_rw_login_iframe_").parentNode.removeChild(b.parent.document.getElementById("_rw_login_iframe_")))};RWire.authorize=function(a){if(RWire.getToken())a("OK");else{var b=$("<iframe>");b.attr("id","_rw_login_iframe_");b.css({width:"500px",height:"500px",position:"absolute",top:"30px",left:"300px",border:"solid 2px yellow"});b.attr("src",RWire.options.url+RWire.AUTHZ_ENDPOINT+"?response_type=token&client_id="+RWire.options.appId+"&redirect_uri=%2Ftoken");
b.appendTo($("body"));RWire.authCallback=a}};RWire.getToken=function(){return localStorage.getItem("_rw_auth_token_")};RWire.saveToken=function(a){localStorage.setItem("_rw_auth_token_",a)};RWire.api=function(a,b,d){if(RWire.getToken()){var c=new XMLHttpRequest;c.open(a,RWire.options.url+RWire.PROTECTED_RESOURCE_HEADER+b,!1);c.setRequestHeader("Authorization","Bearer "+RWire.getToken());c.send();400==c.status?d(c.status,c.response):d(c.status,c.responseText)}else d(0,"not authorized")}}.call({},window.inDapIF?
parent.window:window)}catch(e$$12){alert(e$$12)};
